# 1. 移动端基础

## 1.1 浏览器现状

PC端常见浏览器：360浏览器、谷歌浏览器、火狐浏览器、QQ浏览器、百度浏览器、搜狗浏览器、IE浏览器。

移动端常见浏览器：UC浏览器、QQ浏览器、欧朋浏览器、百度手机浏览器、360安全浏览器、谷歌浏览器、搜狗手机浏览器、猎豹浏览器，以及其他杂牌浏览器。

总结：兼容移动端主流浏览器，处理Webkit内核浏览器即可。

## 1.2 移动端调试方法

- Chrome DevTools（谷歌浏览器）的模拟手机调试
- 搭建本地web服务器，手机和服务器在一个局域网内，通过手机访问服务器
- 使用外网服务器，直接IP或域名访问

## 1.3 总结

- 移动端浏览器我们主要对webkit内核进行兼容
- 我们现在开发的移动端主要针对手机端开发
- 现在移动端碎片化比较严重，分辨率和屏幕尺寸大小不一
- 学会用谷歌浏览器模拟手机界面以及调试

# 2. 视口

**视口(viewport)**就是浏览器显示页面内容的屏幕区域。视口可以分为布局视口、视觉视口和理想视口。

## 2.1 布局视口 layout viewport

- 一般移动设备的浏览器都默认设置了一个布局视口，用于解决早期的PC端页面在手机上显示的问题。
- ios，Android基本都将这个视口分辨率设置为980px，所以PC上的网页大多都能在手机上呈现，只不过元素看上去很小，一般默认可以通过手机缩放网页。

## 2.2 视觉视口 visual viewport

- 字面意思，它是用户正在看到的网站的区域。**注意：是网站的区域**。
- 我们可以通过缩放去操作视觉视口，但不会影响布局视口，布局视口仍保持原来的宽度。

## 2.3 理想视口 ideal viewport

- 为了使网站在移动端有最理想的浏览和阅读宽度而设定
- 理想视口，对设备来讲，是最理想的视口尺寸
- 需要手动添写meta视口标签通知浏览器操作
- meta视口标签的主要目的：布局视口的宽度应该与理想视口的宽度一致，简单理解就是设备有多宽，我们布局的视口就有多宽

## 2.4 总结

- 视口就是浏览器显示页面内容的屏幕区域
- 视口分为布局视口、视觉视口和理想视口
- 我们移动端布局想要的是理想视口，就是手机屏幕有多宽，我们的布局视口就有多宽
- 想要理想视口，我们需要给我们的移动端页面添加meta视口标签

## 2.5 meta视口标签

<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">

| 属性          | 解释说明                                             |
| ------------- | ---------------------------------------------------- |
| width         | 宽度设置的是viewport宽度，可以设置device-width特殊值 |
| initial-scale | 初始缩放比，大于0的数字                              |
| maximum-scale | 最大缩放比，大于0的数字                              |
| minimum-scale | 最小缩放比，大于0的数字                              |
| user-scalable | 用户是否可以缩放，yes或no(1或0)                      |

## 2.6 标准的viewport设置

- 视口宽度和设备保持一致
- 视口的默认缩放比例1.0
- 不允许用户自行缩放
- 最大允许的缩放比例1.0
- 最小允许的缩放比例1.0

# 3. 二倍图

## 3.1 物理像素&物理像素比

- 物理像素点指的是屏幕显示的最小颗粒，是物理真实存在的。这是厂商在出厂时就设置好了，比如苹果6\7\8 是 750*1334
- 我们开发时候的1px不是一定等于1个物理像素的
- PC端页面，1个px等于1个物理像素的，但是移动端就不尽相同
- 一个px能显示的物理像素点的个数，称为物理像素比或屏幕像素比
- PC端和早前的手机屏幕/普通手机屏幕：1CSS像素 = 1物理像素的
- Retina（视网膜屏幕）是一种显示技术，可以把更多的物理像素点压缩至一块屏幕里，从而达到更高的分辨率，并提高屏幕显示的细腻程度。

## 3.2 多倍图

- 一张50px*50px的图片，在手机Retina屏中打开，按照刚才的物理像素比会放大倍数，这样会造成图片模糊
- 在标准的viewport设置中，使用倍图来提高图片质量，解决在高清设备中的模糊问题
- 背景图片  注意缩放问题

/* 在iphone8下面 */

img  {

​	/* 原始图片100*100px */

​	width:  50px;

​	height: 50px;

}

.box {

​		/* 原始图片100*100px */

​		background-size:  50px 50px;

}

## 3.3 背景缩放 background-size

background-size属性规定背景图像的尺寸

语法：

background-size：背景图片宽度  背景图片高度；

- 单位：长度|百分比|cover|contain
- cover把背景图片扩展至足够大，以使背景图像完全覆盖背景区域
- contain把图像扩展至最大尺寸，以使其宽度和高度完全适应内容区域（宽和高任意一个铺满就停止放大）

# 4. 移动端开发选择

## 4.1 移动端主流方案

1. 单独制作移动端页面（主流）

   京东商城手机版

   淘宝触屏版

   苏宁易购手机版

2. 响应式页面兼容移动端（其次）

   三星手机官网

## 4.2 单独移动端页面（主流）

通常情况下，网址域名前面加**m(mobile)**可以打开移动端。通过判断设备，如果是移动端打开，则跳转到**移动端页面**。

## 4.3 响应式兼容PC移动端

三星电子官网：www.samsung.com/cn/ ，通过判断屏幕宽度来改变样式，以适应不同终端。

缺点：制作麻烦，需要花很大精力去调兼容性问题。

# 5. 移动端技术解决方案

## 5.1 移动端浏览器

移动端浏览器基本以webkit内核为主，因此我们就考虑webkit兼容性问题。

我们可以放心使用H5标签和CSS3样式。

同时我们浏览器的私有前缀我们只需要考虑添加webkit即可。

## 5.2 CSS初始化 normalize.css

移动端CSS初始化推荐使用normalize.css/

- Normalize.css：保护了有价值的默认值
- Normalize.css：修复了浏览器的bug
- Normalize.css：是模块化的
- Normalize.css：拥有详细的文档

官网地址：http://necolas.github.io/normalize.css/

## 5.3 CSS3盒子模型 box-sizing

- 传统模式宽度计算：盒子的宽度 = CSS中设置的width + border + padding
- CSS3盒子模型：盒子的宽度 = CSS中设置的宽度width里面包含了border和padding

也就是说，我们的CSS3中的盒子模型，padding和border不会撑大盒子了

传统or CSS3 盒子模型？

- 移动端可以全部CSS3盒子模型
- PC端如果完全需要兼容，我们就用传统模式，如果不考虑兼容性，我们就选择CSS3盒子模型

## 5.4 特殊样式

/* CSS3盒子模型 */

box-sizing：border-box；

-webkit-box-sizing：border-box；

/* 点击高亮我们需要清除  设置为transparent 完成透明 */

-webkit-tap-highlight-color：transparent；

/* 在移动端浏览器默认的外观在ios上加上这个属性才能给按钮和输入框自定义样式 */

-webkit-appearance：none；

/* 禁止长按页面时的弹出菜单 */

img，a  { -webkit-touch-callout：none；}

# 6. 移动端常见布局

## 6.1 移动端技术选型

移动端布局和以前我们学习的PC端有所区别：

1. 单独制作**移动端**页面（主流）
   - 流式布局（百分比布局）
   - flex弹性布局（强烈推荐）
   - less+rem+媒体查询布局
   - 混合布局
2. **响应式**页面兼容移动端（其次）
   - 媒体查询
   - bootstarp

## 6.2 流式布局(百分比布局)

- 流式布局，就是百分比布局，也称非固定像素布局。
- 通过盒子的宽度设置成百分比来**根据屏幕的宽度来进行伸缩**，不受固定像素的限制，内容向两侧填充。
- 流式布局方式是移动web开发使用的比较常见的布局方式。

- max-width  最大宽度（max-height  最大高度）
- min-width  最小宽度 （min-height  最小高度）

**案例：京东移动端首页**

1. 技术选型

   方案：我们采取单独制作移动页面方案

   技术：布局采取流式布局

2. 搭建相关文件夹结构

3. 设置视口标签以及引入初始化样式

   < meta name=“viewport”  content=“width=device-width,  user-scalable=no,  initial-sale=1.0,  maximum-scale=1.0,  minimum-scale=1.0”>

   < link rel="stylesheet"  href="css/normalize.css">

   < link rel="stylesheet"  href="css/index.css">

4. 常用初始化样式

   body {

   ​		margin：0 auto；

   ​		min-width：320px；

   ​		max-width：640px；

   ​		background：#fff；

   ​		font-size：14px；

   ​		font-family：-apple-system，Helvetica，sans-serif；

   ​		color：#666；

   }

5. 二倍精灵图做法

   - 在firework里面把精灵图等比例缩放为原来的一半
   - 之后根据大小测量坐标
   - 注意代码里面background-size也要写：精灵图原来宽度的一半

6. 图片格式

   **DPG图片压缩技术**

   京东自主研发推出DPG图片压缩技术，经测试该技术，可直接节省用户近50%的浏览流量，极大地提升了用户的网页打开速度。能够兼容jpeg，实现全平台、全部浏览器的兼容支持，经过内部和外部上万张图片的人眼浏览测试后发现，压缩后的图片和webp的清晰度对比没有差距。

   **webp图片格式**

   谷歌开发的一种旨在加快图片加载速度的图片格式。图片压缩体积大约只有JPEG的2/3，并能节省大量的服务器宽带资源和数据空间。

## 6.3 flex布局

### 6.3.1 传统布局与flex布局

**传统布局**

- 兼容性好
- 布局繁琐
- 局限性，不能在移动端很好的布局

**flex弹性布局**

- 操作方便，布局极为简单，移动端应用很广泛
- PC端浏览器支持情况较差
- IE 11或更低版本，不支持或仅部分支持

**建议：**

1. 如果是PC端页面布局，我们还是传统布局
2. 如果是移动端或者不考虑兼容性问题的PC端页面布局，我们还是使用flex弹性布局

### 6.3.2 布局原理

flex是flexible Box的缩写，意为“弹性布局”，用来为盒状模型提供最大的灵活性，任何一个容器都可以指定为flex布局。

- **当我们为父盒子设为flex布局以后，子元素的float、clear和vertical-align属性将失效。**
- 伸缩布局 = 弹性布局 = 伸缩盒布局 = 弹性盒布局 = flex布局

**布局原理：**采用Flex布局的元素，称为Flex容器（flex container），简称“容器”。它的所有的子元素自动成为容器成员，成为Flex项目（flex item），简称“项目”。

**总结flex布局原理：**就是通过给父盒子添加flex属性，来控制子盒子的位置和排列方式

### 6.3.3 flex布局父项常见属性

以下有6个属性是对父元素设置的

- **flex-direction：设置主轴的方向**

  **主轴与侧轴：**

  在flex布局中，是分为主轴和侧轴两个方向，同样的叫法有：行和列、x轴和y轴

  - 默认主轴方向就是x轴方向，水平向右
  - 默认侧轴方向就是y轴方向，垂直向下

  **属性值：**

  **flex-direction属性决定主轴的方向（即项目的排列方向）**

  注意：主轴和侧轴是会变化的，就看flex-direction设置谁为主轴，剩下的就是侧轴。而我们的子元素是跟着主轴来排列的。

  | 属性值         | 说明           |
  | -------------- | -------------- |
  | row            | 默认值从左到右 |
  | row-reverse    | 从右到左       |
  | column         | 从上到下       |
  | column-reverse | 从下到上       |

  

- **justify-content：设置主轴上的子元素排列方式**

  justify-content属性定义了项目在主轴上的对齐方式

  **注意：使用这个属性之前一定要确定好主轴是哪个**

  | 属性值            | 说明                                                 |
  | ----------------- | ---------------------------------------------------- |
  | **flex-start**    | **默认值** **从头部开始，如果主轴是x轴，则从左到右** |
  | flex-end          | 从尾部开始排列                                       |
  | **center**        | 在主轴居中对齐（如果主轴是x轴则水平居中）            |
  | **space-around**  | **平分剩余空间**                                     |
  | **space-between** | **先两边贴边 再平分剩余空间（重要）**                |

  

- **flex-wrap：设置子元素是否换行**

  默认情况下，项目都排在一条线（又称“轴线”）上。flex-wrap属性定义，flex布局中默认是不换行的。

  | 属性值   | 说明           |
  | -------- | -------------- |
  | nowrap   | 默认值，不换行 |
  | **wrap** | **换行**       |

  

- **align-content：设置侧轴上的子元素的排列方式（多行）**

  设置子项在侧轴上的排列方式并且只能用于子项出现**换行**的情况（多行），在单行下是没有效果的。

  | 属性值        | 说明                                   |
  | ------------- | -------------------------------------- |
  | flex-start    | 默认值 在侧轴的头部开始排列            |
  | flex-end      | 在侧轴的尾部开始排列                   |
  | center        | 在侧轴的中间显示                       |
  | space-around  | 子项在侧轴平分剩余空间                 |
  | space-between | 子项在侧轴先分布在两头，再平分剩余空间 |
  | stretch       | 设置子项元素高度平分父元素高度         |

  

- **align-items：设置侧轴上的子元素排列方式（单行）**

  该属性是控制子项在侧轴（默认是y轴）上的排列方式  在子项为单项的时候使用

  | 属性值     | 说明                     |
  | ---------- | ------------------------ |
  | flex-start | 从上到下                 |
  | flex-end   | 从下到上                 |
  | center     | 挤在一起居中（垂直居中） |
  | stretch    | 拉伸（默认值）           |

- **align-content和align-items区别**

  - align-items适用于单行情况下，只有上对齐、下对齐、居中和拉伸
  - align-content适应于换行（多行）的情况下（单行情况下无效），可以设置上对齐、下对齐、居中、拉伸以及平均分配剩余空间等属性值。
  - 总结就是单行找align-items  多行找align-content

- **flex-flow：复合属性，相当于同时设置了flex-direction和flex-wrap**

  ​	**语法：**

  flex-flow：row  wrap；

### 6.3.4 flex布局子项常见属性

- **flex子项目占的份数**

  **flex属性**

  flex属性定义子项目**分配剩余空间**(eg：子盒子宽度为0时它们会直接分父盒子宽度)，用flex来表示占多少**份数**

  **语法：**

  .item {

  ​	flex：< number>;     /* default    0 */

  }

- **align-self控制子项自己在侧轴的排列方式**

  align-self属性允许单个项目有与其他项目不一样的对齐方式，可覆盖align-items属性。

  默认值为auto，表示继承父元素的align-items属性，如果没有父元素，则等同于stretch。

  语法：

  span:nth-child(3)  {

  ​	/* 设置自己在侧轴上的排列方式  */

  ​	align-self：flex-end；

  }

- **order属性定义子项的排列顺序（前后顺序）**

  数值越小，排列越靠前，默认为0。

  注意：和z-index不一样。

  

### 6.3.5 携程网首页案例制作

访问网址：m.ctrip.com

1. 技术选型

   方案：我们采取单独制作移动页面方案

   技术：布局采取flex布局

2. 搭建相关文件夹结构

3. 设置视口标签以及引入初始化样式

   < meta name=“viewport”  content=“width=device-width,  user-scalable=no,  initial-sale=1.0,  maximum-scale=1.0,  minimum-scale=1.0”>

   < link rel="stylesheet"  href="css/normalize.css">

   < link rel="stylesheet"  href="css/index.css">

4. 常用初始化样式

   body  {

   ​		Max-width：540px；

   ​		min-width：320px；

   ​		margin：0  auto；

   ​		font：normal  14px/1.5  Tahoma，“Lucida  Grande”  Verdana，“Microsoft Yahei”，STXihei，hei；

   ​		color：#000；

   ​		background：#f2f2f2；

   ​		overflow-x：hidden；

   ​		-webkit-tap-highlight-color：transparent；

   }

5. 常见模块命名

   search-index

   focus

   local-nav

   nav

   subnav-entry

6. 常见flex布局思路

   大盒子里面装着上下两个盒子：

   默认主轴为X轴

   需要把主轴设置为Y轴

   然后把侧轴设为居中对齐
   
7. **背景线性渐变**

   **语法：**

   **background：linear-gradient（起始方向，颜色1，颜色2，...）；**

   background：-webkit-linear-gradient（left，red，blue）；

   background：-webkit-linear-gradient（left  top，red，blue）；

背景渐变色必须添加浏览器私有前缀

起始方向是：方位名词   或者度数，如果省略默认就是top

## 6.4 移动WEB开发之rem适配布局

方案：

1. 页面布局文字能否随着屏幕大小变化而变化？
2. 流式布局和flex布局主要针对于宽度布局，那高度如何设置？
3. 怎样让屏幕发生变化的时候元素高度和宽度等比例缩放？

### 6.4.1 rem基础

**rem单位**

rem（root  em）是一个相对单位，类似于em，em是父元素字体大小。

不同的是**rem**的基准**是**相对于html元素的**字体大小**。

比如，根元素（html）设置font-size=12px；非根元素设置width：2rem；则换成px表示就是24px。

### 6.4.2 什么是媒体查询

媒体查询（**Media  Query**）是CSS3新语法。

- 使用@media查询，可以针对不同的媒体类型定义不同的样式。
- **@media可以针对不同的屏幕尺寸设置不同的样式。**
- 当你重置浏览器大小的过程中，页面也会根据浏览器的宽度和高度重新渲染页面。
- 目前针对很多苹果手机、Android手机，平板等设备都用到多媒体查询。

### 6.4.3 语法规范

@media  mediatype  and|not|only  (media  feature)   {

​		CSS-Code;

}

- 用@media开头  注意@符号

- mediatype  媒体类型

  mediatype 查询类型

  将不同的终端设备划分成不同的类型，称为媒体类型

  | 值         | 解释说明                               |
  | ---------- | -------------------------------------- |
  | all        | 用于所有设备                           |
  | print      | 用于打印机和打印预览                   |
  | **screen** | **用于电脑屏幕，平板电脑，智能手机等** |

- 关键字  and  not  only

  关键字将媒体类型或多个媒体特性连接到一起作为媒体查询的条件。

  - and：可以将多个媒体特性连接到一起，相当于“且”的意思。
  - not：排除某个媒体类型，相当于“非”的意思，可以省略。
  - only：指定某个特定的媒体类型，可以省略。

- media  feature  媒体特征  必须有小括号包含

  每种媒体类型都具有各自不同的特性，根据不同媒体类型的媒体特性设置不同的展示风格。

  注意要加小括号包含。

  | 值        | 解释说明                             |
  | --------- | ------------------------------------ |
  | width     | 定义输出设备中页面可见区域的宽度     |
  | min-width | 定义输出设备中页面最小可见区域的宽度 |
  | max-width | 定义输出设备中页面最大可见区域的宽度 |

  **注意：**为了防止混乱，媒体查询我们要按照从小到大或者从大到小的顺序来写，但是我们最喜欢的还是从小到大，这样代码更简洁。

### 6.4.4 媒体查询

媒体查询+rem实现元素动态大小变化

rem单位是跟着html来走的，有了rem页面元素可以设置不同大小尺寸

媒体查询可以根据不同设备宽度来修改样式

媒体查询+rem就可以实现不同设备宽度，实现页面元素大小的动态变化

### 6.4.5 引入资源（理解）

当样式比较繁多的时候，我们可以针对不同的媒体使用不同的stylesheets（样式表）。

原理，就是直接在link中判断设备的尺寸，然后引用不同的css文件。

语法规范：

< link rel="stylesheet"  media="mediatype  and|not|only  (media  feature)"  href="mystylesheet.css">

## 6.5 Less基础

### 6.5.1 维护css的弊端

CSS是一门非程序式语言，没有变量、函数、SCOPE（作用域）等概念。

- CSS需要书写大量看似没有逻辑的代码，CSS冗余度是比较高的。
- 不方便维护及扩展，不利于复用。
- CSS没有很好的计算能力。
- 非前端开发工程师来讲，往往会因为缺少CSS编程经验而很难写出组织良好且易于维护的CSS代码项目 。

### 6.5.2 Less介绍

Less（Leaner Style Sheets 的缩写）是一门CSS扩展语言，也称为CSS预处理器。

作为CSS的一种形式的扩展，它并没有减少CSS的功能，而是在现有的CSS语法上，为CSS加入程序式语言的特性。

它在CSS的语法基础上，引入了变量，Mixin（混入），运算以及函数等功能，大大简化了CSS的编写，并且降低了CSS的维护成本，就像它的名称所说的那样，Less可以让我们用更少的代码做更多的事情。

Less中文网址：http://lesscss.cn/

常见的CSS预处理器：Sass、Less、Stylus

一句话：Less是一门CSS预处理语言，它扩展了css的动态特性。

### 6.5.3 Less使用

我们首先新建一个后缀名为less的文件，在这个less文件里面书写less语句。

- **Less变量**

  变量是指没有固定的值，可以改变的。因为我们CSS中的一些颜色和数值等经常使用。

  语法：

  @变量名 ：值；

  变量命名规范：

  - 必须有@为前缀
  - 不能包含特殊字符
  - 不能以数字开头
  - 大小写敏感

- **Less编译**

  本质上，Less包含一套自定义的语法及一个解析器，用户根据这些语法定义自己的样式规则，这些规则最终会通过解析器。编译生成对应的CSS文件。

  所以，我们需要把我们的less文件，编译生成为css文件，这样我们的html页面才能使用。

  vscode Less插件

  Easy LESS 插件用来把less文件编译为css文件，安装完毕插件，重新加载下vscode。

  只要保存一下Less文件，会自动生成CSS文件。

- **Less嵌套**

  我们经常用到选择器的嵌套

  #header  .logo  {

  ​		width：300px；

  }

  **Less嵌套写法**

  #header  {

  ​		.logo {

  ​				width：300px；

  ​		}

  }

  **如果遇见（交集|伪类|伪元素选择器）**

  - **内层选择器的前面没有&符号，则它被解析为父选择器的后代；**
  - **如果有&符号，它就被解析为父元素自身或父元素的伪类。**

- Less运算

  注意：

  - 乘号（*）和除号（/）的写法
  - **运算符中间左右用个空格隔开1px  +  5**
  - 对于两个不同的单位的值之间的运算，运算结果的值取第一个值的单位
  - 如果两个值之间只有一个值有单位，则运算结果就取该单位

## 6.6 rem适配方案

1. 我们适配的目标是什么？
   - 让一些不能等比自适应的元素，达到当设备尺寸发生改变的时候，等比例适配当前设备。
2. 怎么去达到这个目标的？
   - 使用媒体查询根据不同设备按比例设置html的字体大小，然后页面元素使用rem做尺寸单位，当html字体大小变化元素尺寸也会发生变化，从而达到等比缩放的适配。
3. 在实际的开发当中使用？

### 6.6.1 rem实际开发适配方案

1. 按照设计稿与设备宽度的比例，动态计算并设置html根标签的font-size大小；（媒体查询）
2. CSS中，设计稿元素的宽、高、相对位置等取值，按照同等比例换算为rem为单位的值；

### 6.6.2 rem适配方案技术使用（市场主流）

技术方案1

- less
- 媒体查询
- rem

技术方案2（推荐）

- flexible.js
- rem

总结：

1. 两种方案现在都存在
2. 方案2更简单

### 6.6.3 rem实际开发适配方案1

rem + 媒体查询 + less技术

1. **设计稿常见的尺寸宽度**

   | 设备          | 常见宽度                                                     |
   | ------------- | ------------------------------------------------------------ |
   | iphone4、5    | 640px                                                        |
   | **iphone678** | **750px**                                                    |
   | Android       | 常见320px、360px、375px、384px、400px、414px、500px、720px    **大部分4.7~5寸的安卓设备为720px** |

   一般情况下，我们以一套或两套效果图适应大部分的屏幕，放弃极端屏或对其优雅降级，牺牲一些效果。

   **现在基本以750为准。**

2. **动态设置html标签font-size大小**

   （1）假设设计稿是750px

   （2）假设我们把整个屏幕划分为15等份（划分标准不一，可以是20份也可以是10等份）

   （3）每一份作为html字体大小，这里就是50px

   （4）那么在320px设备的时候，字体大小为320 / 15  就是21.33px

   （5）用我们页面元素的大小 除以 不同的html字体大小会发现他们比例还是相同的

   （6）比如我们以750为标准设计稿

   （7）一个100*100像素的页面元素在750屏幕下，就是100/50转换为rem  是  2rem**2rem 比例还是1:1

   （8）320屏幕下，html字体大小为21.33  则2rem = 42.66px 此时宽和高都是42.66，但是宽和高的比例还是1:1

   （9）但是已经能实现不同屏幕下，页面元素盒子等比例缩放的效果。

3. **元素大小取值方法**

   （1）最后的公式：页面元素的rem值=页面元素值(px) / (屏幕宽度 / 划分的份数)

   （2）屏幕宽度/划分的份数  就是  html   font-size的大小

   （3）或者：页面元素的rem值 = 页面元素值(px) / html  font-size  字体大小

### 6.6.4 苏宁网首页案例制作

访问网址：m.suning.com

1. 技术选型

   方案：我们采取单独制作移动页面方案

   技术：布局采取rem适配布局（less+rem+媒体查询）

   设计图：本设计图采用750px设计尺寸

2. 搭建相关文件夹结构

3. 设置视口标签以及引入初始化样式

   < meta name=“viewport”  content=“width=device-width,  user-scalable=no,  initial-sale=1.0,  maximum-scale=1.0,  minimum-scale=1.0”>

   < link rel="stylesheet"  href="css/normalize.css">

4. 设置公共common.less文件

   （1）新建common.less  设置好最常见的屏幕尺寸，利用媒体查询设置不同的html字体大小，因为除了首页其他页面也需要

   （2）我们关心的尺寸有320px、360px、375px、384px、400px、414px、424px、480px、540px、720px、750px

   （3）划分的份数我们定为15等份

   （4）因为我们PC端也可以打开苏宁移动端首页，我们默认html字体大小为50px，**注意这句话写到最上面**

5. 新建index.less文件

   （1）新建index.less  这里面写首页的样式

   （2）将刚才设置好的common.less引入到index.less里面  语法如下：

   ​		// 在index.less中导入common.less文件

   ​		@import  “common”

    （3）生成index.css引入到index.html里面

### 6.6.5 rem适配方案2

1. **简洁高效的rem适配方案flexible.js**

   手机淘宝团队出的简洁高效 移动端适配库

   我们再也不需要写不同屏幕的媒体查询，因为里面js做了处理

   它的原理是把当前设备划分为10等份，但是不同设备下，比例还是一致的

   我们要做的，就是却ID能好当前设备的html文字大小就可以了

   比如当前设计稿是750px，那么我们只需要把html文字大小设置成75px(750px/10)就可以

   里面页面元素rem值：页面元素的px值/75

   剩余的，让flexible.js来计算

   

   github地址：https://github.com/amfe/lib-flexible

   技术方案1

   - less
   - 媒体查询
   - rem

   技术方案2

   - flexible.js
   - rem

2. VSCode px 转换成rem插件**cssrem**

   设置html字体大小基准值

   1. 打开  设置  快捷键是ctrl+逗号

# 7. 移动WEB开发之响应式布局

## 7.1 响应式开发原理

就是使用媒体查询针对不同宽度的设备进行布局和样式的设置，从而适配不同设备的目的。

| 设备划分                 | 尺寸区间          |
| ------------------------ | ----------------- |
| 超小屏幕（手机）         | <768px            |
| 小屏设备（平板）         | >=768px ~ <992px  |
| 中等屏幕（桌面显示器）   | >=992px ~ <1200px |
| 宽屏设备（大桌面显示器） | >=1200px          |

## 7.2 响应式布局容器

响应式需要一个父级作为布局容器，来配合子级元素来实现变化效果。

原理就是在不同屏幕下，通过媒体查询来改变这个布局容器的大小，再改变里面子元素的排列方式和大小，从而实现不同屏幕下，看到不同的页面布局和样式变化。

平时我们的响应式尺寸划分

- 超小屏幕（手机，小于768px）：设置宽度为100%
- 小屏幕（平板，大于等于768px）：设置宽度为750px
- 中等屏幕（桌面显示器，大于等于992px）：宽度设置为970px
- 大屏幕（大桌面显示器，大于等于1200px）：宽度设置为1170px

但是我们也可以根据实际情况自己定义划分

## 7.3 Bootstrap前端开发框架

### 7.3.1 Bootstrap简介

Bootstrap来自Twitter（推特），是目前最受欢迎的前端框架。Bootstrap是基于HTML、CSS、JAVASCRIPT的，它简洁灵活，**使得Web开发更加快捷。**

- 中文官网：http://www.bootcss.com/
- 官网：http://getbootstrap.com/

**框架：**顾名思义就是一套架构，它有一套比较完整的网页功能解决方案，而且控制权在框架本身，有预制样式库、组件和插件。使用者要按照框架所规定的某种规范进行开发。

1. 优点：

- 标准化的html+css编码规范
- 提供了一套简洁、直观、强悍的组件
- 有自己的生态圈，不断地更新迭代
- 让开发更简单，提高了开发的效率

2. 版本
   - 2.xx：停止维护，兼容性好，代码不够简洁，功能不够完善。
   - 3.xx：目前使用最多，稳定，但是放弃了IE6-IE7。对IE8支持但是界面效果不好，偏向用于开发响应式布局、**移动设备优先的WEB项目。**
   - 4.xx：最新版，目前还不是很流行

### 7.3.2 Bootstrap使用

现阶段还没有接触JS相关课程，所以我们只考虑使用它的样式库。

**控制权在框架本身，使用者要按照框架所规定的某种规范进行开发。**

Bootstrap使用四步曲：

**1.创建文件夹结构** 

​	bootstrap文件夹中包含独有的css样式代码和js代码以及字体fonts。

**2.创建html骨架结构**

​	/* 要求当前网页使用IE浏览器最高版本的内核来渲染 */

< meta http-equiv=“X-UA-Compatible” content=“IE=edge”>< /meta>

/* 视口的设置：视口的宽度和设备一直，默认的缩放比例和PC端一致，用户不能自行缩放 */

< meta name=“viewport” content=“width=device-width, initial-scale=1,user-scalable=0” >

```html
<!--[if lt IE 9]>
      <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
    <![endif]-->
```

 **3.引入相关样式文件** 

/* Bootstrap  核心样式  */

< link rel=“stylesheet”  href=“bootstrap/css/bootstrap.min.css”>

**4.书写内容**

- 直接拿Bootstrap预先定义好的样式来使用
- 修改Bootstrap原来的样式，注意权重问题
- 学好Bootstrap的关键在于知道**它定义了哪些样式，以及这些样式能实现什么样的效果**

### 7.3.3 布局容器

Bootstrap需要为页面内容和栅格系统包裹一个.container容器，Bootstrap**预**先**定义**好了这个**类**，叫.container，它提供了两个作此用处的类。

1. **container类**
   - 响应式布局的容器  固定宽度
   - 大屏（>=1200px) 宽度定位1170px
   - 中屏(>=992px)  宽度定为970px
   - 小屏（>=768px)宽度定为750px
   - 超小屏(100%)
2. **container-fluid类**
   - 流式布局容器  百分百宽度
   - 占据全部视口（viewport）的容器
   - 适合于单独做移动端开发

## 7.4 Bootstrap栅格系统

### 7.4.1 栅格系统简介

**栅格系统**英文为“grid systems”,也有人翻译为“网格系统”，它是指将页面布局划分为等宽的列，然后通过列数的定义来模块化页面布局。

Bootstrap提供了一套响应式、移动设备优先的流式栅格系统，随着屏幕或视口（viewport）尺寸的增加，系统会自动分为最多**12列**。

Bootstrap里面container宽度是固定的，但是不同屏幕下，container的宽度不同，我们再把container划分为12等份。

### 7.4.2 栅格选项参数

栅格系统用于通过一系列的行(row)与列(column)的组合来创建页面布局，你的内容就可以放入这些创建好的布局中。

|                    | 超小屏幕（手机）<768px | 小屏设备（平板）>=768px | 中等屏幕(桌面显示器)>=992px | 宽屏设备(大桌面显示器)>=1200px |
| ------------------ | ---------------------- | ----------------------- | --------------------------- | ------------------------------ |
| .container最大宽度 | 自动(100%)             | 750px                   | 970px                       | 1170px                         |
| 类前缀             | .col-xs-               | .col-sm-                | .col-md-                    | .col-lg-                       |
| 列(column)数       | 12                     | 12                      | 12                          | 12                             |

- 行（row）必须放到container布局容器里面
- 我们实现列的平均划分  需要给列添加**类前缀**
- xs-extra small：超小；sm-small：小；md-medium：中等；lg-large：大；
- 列（column）大于12，多余的“列（column）”所在的元素将被作为一个整体另起一行排列
- 每一列默认有左右15像素的padding
- 可以同时为一列指定多个设备的类名，以便划分不同份数  例如  class=“col-md-4  col-sm-6”

### 7.4.3 列嵌套

栅格系统内置的栅格系统将内容再次嵌套。简单理解就是一个列内再分成若干份小列。我们可以通过添加一个新的.row元素和一系列.col-sm-*  元素到已经存在的.col-sm-* 元素内。

我们列嵌套最好加1个行row 这样可以取消父元素的padding值 而且高度自动和父级一样高

/* 列嵌套 */

< div class=“col-sm-4”>

​	< div class=“row”>

​			< div class=“col-sm-6”>小列< /div>

​			< div class=“col-sm-6”>小列< /div>

​	< /div>

< /div>

### 7.4.4 列偏移

使用.col-md-offset-* 类可以将列向右侧偏移。这些类实际是通过使用*选择器为当前元素增加了左侧的边距(margin)。

### 7.4.5 列排序

通过使用.col-md-push-* 和.col-md-pull-* 类就可以很容易的改变列（column）的顺序。

/* 列排序 */

< div class=“row”>

​		< div class=“col-lg-4  col-lg-push-8”>左侧< /div>

​		< div class=“col-lg-8  col-lg-pull-4”>右侧< /div>

< /div>

### 7.4.6 响应式工具

为了加快对移动设备友好的页面开发工作，利用媒体查询功能，并使用这些工具类可以方便的针对不同设备展示或隐藏页面内容。

| 类名       | 超小屏 | 小屏 | 中屏 | 大屏 |
| ---------- | ------ | ---- | ---- | ---- |
| .hidden-xs | 隐藏   | 可见 | 可见 | 可见 |
| .hidden-sm | 可见   | 隐藏 | 可见 | 可见 |
| .hidden-md | 可见   | 可见 | 隐藏 | 可见 |
| .hidden-lg | 可见   | 可见 | 可见 | 隐藏 |

与之相反的，是visible-xs  visible-sm  visible-md  visible-lg 是只显示某个页面内容  。

Bootstrap其他（按钮、表单、表格）请参考**Bootstrap文档**）。

## 7.5 阿里百秀首页案例

### 7.5.1 技术选型

方案：我们采取响应式页面开发方案

技术：bootstrap框架

设计图：本设计图采用1280px设计尺寸

屏幕划分分析：

（1）屏幕缩放发现中屏幕和大屏幕布局是一致的。因此我们列定义为col-md-就可以了，md是大于等于970以上的。

（2）屏幕缩放发现，小屏幕布局发生变化，因此我们需要为小屏幕根据需求改变布局。

（3）屏幕缩放发现，超小屏幕布局又发生变化，因此我们需要为超小屏幕根据需求改变布局。

（4）策略：我们先布局 md以上的pc端布局，最后根据实际需求在修改小屏幕和超小屏幕的特殊布局样式。

container宽度修改

因为本效果图采取1280的宽度，而Bootstrap里面container宽度最大为1170px，因此我们需要手动改下container宽度。

# 8. 移动端布局总结

## 8.1 移动端主流方案

1. 单独制作**移动端**页面（主流）

   京东商城手机版

   淘宝触屏版

   苏宁易购手机版

   ...

2. 响应式页面兼容移动端（其次）

   三星手机官网

   ...

## 8.2 移动端技术选型

- 流式布局（百分比布局）
- **flex弹性布局（推荐）**
- **rem适配布局（推荐）**
- 响应式布局

建议：我们选取一种主要技术选型，其他技术作为辅助，这种混合技术开发

# 9. 番外篇

## 9.1 vw和vh

1. 移动端布局

   - 移动端布局---flex布局

   - 为了实现可以适配移动端，页面元素可以宽度和高度等比例缩放

   - 需要移动端适配有如下方案：

     rem：市场比较常见

     1. 需要不断修改html文字大小
     2. 需要媒体查询media
     3. 需要flexible.js

     vw和vh：将来趋势

     1. 省去各种判断和修改
     2. 代表：B站..

2. vw/vh是什么

   - vw/vh是一个相对单位（类似em和rem相对单位）

     - vw是：viewport width 视口宽度单位
     - vh是：viewport height 视口高度单位

   - 相对视口的尺寸计算结果

     1vw = 1/100视口宽度

     1vh = 1/100视口高度

   - 例如：当前屏幕视口是375像素，则1vw就是3.75像素，如果当前屏幕视口为414，则1vw就是4.14像素。

   - **注意事项：**和百分比有区别的，百分比是相对于父元素来说的，而vw和vh总是正对于当前视口来说的。

3. vw/vh怎么用

   - 超级简单，元素单位直接使用新单位vw/vh即可。
   - 因为vw/vh是相对单位，所以不同视口（屏幕）下，高度一起变化完成适配。

4. vw注意事项

   - 因为涉及到大量除法，还是适应LESS搭配更好点。
   - 本质是根据视口宽度来等比例缩放页面高度和宽度的，所以开发中使用vw就基本够用了。vh很少使用。
   - 兼容性：网站：http://caniuse.com

5. 小结

   （1）开发中使用vw，需要像素大厨有哪些改动？

   ​			把模式改为2x模式

   （2）开发中使用vw，如何还原设计稿？

   ​			确定设计稿视口宽度。比如375

   ​			直接使用测量数值 / （视口宽度 / 100）

   ​			比如：50 / (375 / 100)

## 9.2 案例实战

**需求：**实现在不同宽度设备中等比例缩放的页面效果

分析：

（1）准备好项目目录以及文件

（2）准备好字体文件（下载别人网站字体）

​			检查元素----iconfont样式表----复制字体URL到浏览器地址栏----回车

（3）准备好less文件

​			生成的css文件自动放到css文件下面

​			扩展Easy Less ---- setting.json  输入 ：

​			“less.compile”：{

​					“out”：“../css/”     // 设置导出css路径

​			},

（4）准备开始项目内容

